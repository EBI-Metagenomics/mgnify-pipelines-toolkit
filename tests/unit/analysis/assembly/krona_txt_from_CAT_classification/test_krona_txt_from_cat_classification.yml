- name: krona_txt_from_cat_classification_test
  tags:
    - krona_txt_from_cat_classification
  command: >
    python
    -m mgnify_pipelines_toolkit.analysis.assembly.krona_txt_from_cat_classification
    --input tests/fixtures/cat_classification/cat.tsv
    --output test_krona.txt
    --names_dmp tests/fixtures/cat_classification/names.dmp
    --nodes_dmp tests/fixtures/cat_classification/nodes.dmp
  exit_code: 0
  files:
    - path: "test_krona.txt"
      contains:
        - "5\td__Bacteria\tk__Bacillati\tp__Bacillota"
      md5sum: e2f367ec2d8be40a2841999424ac9064
